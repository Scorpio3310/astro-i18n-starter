---
//Imports
import { useTranslations } from "@i18n/utils";
import Base from "@layouts/Base.astro";

// Get current language from URL
export function getStaticPaths() {
    return [
        // English route: /about
        // Since this file is in [about] folder, the [about] param becomes "about"
        // [...index] = undefined means no additional URL segments after /about
        {
            params: { pages: "pages", index: undefined },
            props: { lang: "en" },
        },
        // Slovenian route: /sl/o-projektu
        // [about] = "sl" acts as language prefix in URL
        // [...index] = "o-projektu" captures the localized page name after /sl/
        // This creates the final URL: /sl/o-projektu
        {
            params: { pages: "sl", index: "strani" },
            props: { lang: "sl" },
        },
    ];
}

// Props
const { lang } = Astro.props;

// Translations
const t = useTranslations(lang);

// Dynamically import the correct MDX file based on the language
const { Content } = await import(`./_pages-${lang}.mdx`);
---

<Base
    title={t("menu.list.title")}
    meta={{
        description: t("service:description"),
    }}
>
    <section id="md-content">
        <Content />
    </section>
</Base>
