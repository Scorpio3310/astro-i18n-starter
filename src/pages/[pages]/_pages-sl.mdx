---
# SEO metadata
title: "Dodajanje novih strani"
description: "Korak za korakom vodiÄ za dodajanje novih strani v veÄjeziÄni Astro projekt. NauÄite se dinamiÄnega usmerjanja, lokalizacije URL-jev, sinhronizacije routes.ts in praktiÄnih primerov."
keywords: "Astro strani, veÄjeziÄnost, i18n, dinamiÄno usmerjanje, lokalizacija, getStaticPaths, routes, slovenÅ¡Äina, angleÅ¡Äina, MDX"
---

# Dodajanje novih strani

Ta vodiÄ ti pokaÅ¾e, kako dodati novo stran v veÄjeziÄni Astro projekt.

## Dva pristopa za lokalizacijo

Izberi pristop glede na potrebe:

### ğŸ—‚ï¸ Vzorec A: `[...pages].astro` (Single File Pattern)

**Kdaj uporabi:** Preproste strani brez podstrani  
**Primeri:** `[...index].astro`, `[...blog].astro`, `[...contact].astro`

```ts
import { buildLocalizedStaticPaths } from "@i18n/utils";

// Enotni catchâ€‘all: [...pages].astro
export function getStaticPaths() {
    return buildLocalizedStaticPaths("/pages", ["...pages"]);
}
```

### ğŸ“ Vzorec B: `[pages]/[...index].astro` (Folder Pattern)

**Kdaj uporabi:** Strani z dodatnimi datotekami (MDX, slike, komponente)  
**Primeri:** `[about]/[...index].astro`, `[services]/[...index].astro`  
**Prednosti:** Organizirana struktura, laÅ¾je vzdrÅ¾evanje

```ts
import { buildLocalizedStaticPaths } from "@i18n/utils";

// Vzorec mape: [pages]/[...index].astro
export function getStaticPaths() {
    return buildLocalizedStaticPaths("/pages", ["pages", "...index"]);
}
```

> âš ï¸ KRITIÄŒNO - Sinhronizacija
>
> Poskrbi, da so vsi lokalizirani segmenti (npr. `pages â†’ strani`) zapisani v `routes.ts`. `useTranslatedPath()` uporablja te preslikave.

---

## ğŸ”„ Preklop privzetega jezika

Brez spreminjanja datotek strani lahko zamenjaÅ¡ korenski jezik:

1. V `src/i18n/ui.ts` nastavi:
    - `defaultLang = "sl"` (ali drug jezik)
    - `showDefaultLang = true | false` (ali Å¾eliÅ¡ predpono tudi za privzeti jezik)
2. Koren postane `/` (ko je `showDefaultLang = false`) ali `/{defaultLang}/` (ko je `true`).
3. Vse poti se samodejno prilagodijo, ker `getStaticPaths()` uporablja `useTranslatedPath()`.
4. Preveri home, about, pages in navigacijo.

Namig: V primerih uporabi `useTranslatedPath(lang)("/pages")` namesto roÄnih lokaliziranih segmentov.

---

## ğŸ› ï¸ PraktiÄen primer: Dodajanje strani "Storitve"

Dodajmo novo stran `/services` â†’ `/sl/storitve`:

### Korak 1: Ustvari datoteko

`src/pages/[services]/[...index].astro`

### Korak 2: Nastavi getStaticPaths

```ts
import { useTranslations, buildLocalizedStaticPaths } from "@i18n/utils";
import Base from "@layouts/Base.astro";
import "@styles/markdown.css";

export function getStaticPaths() {
    return buildLocalizedStaticPaths("/services", ["services", "...index"]);
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const { Content, frontmatter } = await import(`./_services-${lang}.mdx`);
---

<Base
    title={frontmatter?.title}
    meta={{
        description: frontmatter?.description,
        keywords: frontmatter?.keywords,
    }}
    >
    <section id="md-content">
        <Content />
    </section>
</Base>
```

### Korak 3: Dodaj v routes.ts

```javascript
export const routes: Record<string, Record<string, string>> = {
    sl: {
        about: "o-projektu",
        blog: "spletni-dnevnik",
        pages: "strani",
        services: "storitve", // â† Ujema se z "storitve" zgoraj
    },
};
```

### Korak 4: Dodaj v navigacijo

```javascript
const navigationData = [
    {
        label: "menu.list.services",
        href: "/services", // â† AngleÅ¡ka pot
        children: [],
    },
];
```

### Korak 5: Ustvari vsebinske datoteke

-   `_services-en.mdx`
-   `_services-sl.mdx`

### Korak 6: Dodaj prevode (opcijsko, Äe nebereÅ¡ iz MDX)

**V `locales/en/services.json`:**

```json
{
    "head": {
        "title": "Our Services",
        "description": "Professional services we offer"
    },
    // ÄŒe Å¾eliÅ¡, lahko dodaÅ¡ tudi druge kljuÄe
    "title": "Our Services",
    "description": "We provide comprehensive solutions for your business needs."
}
```

**V `locales/sl/services.json`:**

```json
{
    "head": {
        "title": "NaÅ¡e storitve",
        "description": "Strokovne storitve, ki jih ponujamo"
    },
    // ÄŒe Å¾eliÅ¡, lahko dodaÅ¡ tudi druge kljuÄe
    "title": "NaÅ¡e storitve",
    "description": "Zagotavljamo celovite reÅ¡itve za vaÅ¡e poslovne potrebe."
}
```

**V `locales/en/menu.json` dodaj:**

```json
{
    "list": {
        "services": "Services"
    }
}
```

**V `locales/sl/menu.json` dodaj:**

```json
{
    "list": {
        "services": "Storitve"
    }
}
```

## ğŸ¯ KonÄni rezultat

Predpostavka: `defaultLang = "en"` in `showDefaultLang = false`:

| Jezik                | URL            | Deluje |
| -------------------- | -------------- | ------ |
| ğŸ‡¬ğŸ‡§ AngleÅ¡Äina        | `/services`    | âœ…     |
| ğŸ‡¸ğŸ‡® SlovenÅ¡Äina       | `/sl/storitve` | âœ…     |
| ğŸ§­ Navigacija        | Avtomatska     | âœ…     |
| ğŸ”„ Language switcher | Preklopi jezik | âœ…     |
| ğŸ Breadcrumbs       | PrikaÅ¾e pot    | âœ…     |

**ÄŒestitke! Nova stran je uspeÅ¡no dodana! ğŸ‰**
